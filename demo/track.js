!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(2),t.exports=n(3)},function(t,e){(function(){!function(t){var e=2e3;function n(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}function i(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}var o=t.strgMetricsId||"strg";t[o]=t[o]||{};var r={log:function(){t[o].logger&&t[o].logger.log.apply(null,arguments)},info:function(){t[o].logger&&t[o].logger.info.apply(null,arguments)},warn:function(){t[o].logger&&t[o].logger.warn.apply(null,arguments)},error:function(){t[o].logger&&t[o].logger.error.apply(null,arguments)}},a=localStorage.getItem("strg.metrics.client");a?localStorage.getItem("strg.metrics.client.state")||localStorage.setItem("strg.metrics.client.state","{}"):(a=n(),localStorage.setItem("strg.metrics.client",a),localStorage.setItem("strg.metrics.client.state","{}"));var l=sessionStorage.getItem("strg.metrics.session");l&&i(l)||(l=n(),sessionStorage.setItem("strg.metrics.session",l));var s,c,u=t[o].window=t[o].window||n(),g={},d=[],f={updateClientHash:function(t){if(!i(t))throw Error('Value Error: "'+t+'" is not a valid UUID');a=t,localStorage.setItem("strg.metrics.client",t)}};function h(){if(m&&m.readyState===t.WebSocket.OPEN)for(;d.length;){var e=JSON.stringify(d[0]);r.log("Send",e),m.send(e),d.shift()}else r.log("Connection not ready")}var m=null,p=!1;function v(){(m=new t.WebSocket(c+["?client=",a,"&session=",l,"&window=",u,"&delta=",1*new Date-y].join(""))).onopen=function(){h()},m.onclose=function(){p||(m=null,t.setTimeout(v,e))},m.onmessage=function(t){var e=JSON.parse(t.data);e&&"function"==typeof f[e.fn]&&f[e.fn].apply(null,[].concat(e.params))}}function w(t,e){r.log("Enqueue",t,e),d.push({delta:1*new Date-y,key:t,value:e}),h()}t.addEventListener("beforeunload",function(){p=!0,h(),m&&m.close()});var y=t[o].t||1*new Date,x={init:function(e){if(!e)throw Error("Configuration Error: Missing endpoint url");if(-1===(c=e).indexOf("://")){var n="https:"==t.location.protocol?"wss":"ws";c=n+"://"+c}v()},trigger:function(t,e){w(t,e)},clientStateChange:function(t,e){(s=JSON.parse(localStorage.getItem("strg.metrics.client.state")))[t]!==e&&(s[t]=e,localStorage.setItem("strg.metrics.client.state",JSON.stringify(s)),w(t,e))},windowStateChange:function(t,e){g[t]!==e&&(g[t]=e,w(t,e))},windowStateInit:function(t,e){g[t]=e}};t[o].metrics=x}(this)}).call(window)},function(t,e){(function(){!function(){var t,e,n=window.strgMetricsId||"strg",i=window[n].metrics;i.visibility={},void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),i.visibility.init=function(){e&&(i.windowStateChange("window.active",!document[t]),document.addEventListener(e,function(){i.windowStateChange("window.active",!document[t])},!1))}}()}).call(window)},function(t,e){(function(){!function(t){var e=t.strgMetricsId||"strg",n=t[e].metrics,i=200,o=25,r=function(t,e,n){var i,o,r,a=null,l=0;n||(n={});var s=function(){l=!1===n.leading?0:Date.now(),a=null,r=t.apply(i,o),a||(i=o=null)};return function(){var c=Date.now();l||!1!==n.leading||(l=c);var u=e-(c-l);return i=this,o=arguments,u<=0||u>e?(a&&(clearTimeout(a),a=null),l=c,r=t.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(s,u)),r}},a=function(e,n){this.DOMNode=e,this.options=n||{},this.id=n.id||e.nodeName+(e.id?"."+e.id:""),this.key=n.key||"breakpoint."+this.id,this.value=n.value||null,this.gaugePointInterval="number"==typeof n.gaugePointInterval?n.gaugePointInterval:o,this.options.simple?(this.scrollHandler=r(this.trackBreakPoint.bind(this),200),t.addEventListener("scroll",this.scrollHandler),this.scrollHandler()):(this.gaugePoints=this.makeGaugePointsArray(this.DOMNode.getBoundingClientRect(),this.gaugePointInterval),this.scrollHandler=r(this.trackGaugePoints.bind(this),i),t.addEventListener("scroll",this.scrollHandler),this.scrollHandler())};a.prototype.trackBreakPoint=function(){var e=this.DOMNode.getBoundingClientRect();this.isRectVisible(e)&&(n.windowStateChange(this.key,this.value),t.removeEventListener("scroll",this.scrollHandler))},a.prototype.trackGaugePoints=function(){var e=this,i=e.DOMNode.getBoundingClientRect();if(!e.isRectVisible(i))return!1;var o=t.innerHeight||document.documentElement.clientHeight,r=i.height?Math.max(0,Math.min(o-i.top,i.height)):Math.max(0,Math.min(o-i.top,1));e.gaugePoints.filter(function(t){return t&&t[0]<=r}).forEach(function(t){n.windowStateChange("breakpoint."+e.id+".percent.max",t[1])}),e.gaugePoints=e.gaugePoints.filter(function(t){return t&&t[0]>r}),0===e.gaugePoints.length&&t.removeEventListener("scroll",this.scrollHandler)},a.prototype.makeGaugePointsArray=function(t,e){var n,i,o=[];for(i=e;i<=100;i+=e)n=i/100,o.push([t.height*n,100*n]);return i!=100+e&&o.push([t.height,100]),o},a.prototype.isRectVisible=function(e){return null!==this.DOMNode.offsetParent&&e.bottom>=0&&e.right>=0&&e.top<=(t.innerHeight||document.documentElement.clientHeight)&&e.left<=(t.innerWidth||document.documentElement.clientWidth)},n.breakpointMeter={percent:function(t,e,n){var i="string"==typeof t?document.querySelector(t):t;new a(i,{id:e,gaugePointInterval:n})},simple:function(t,e,n){var i="string"==typeof t?document.querySelector(t):t;new a(i,{id:e,key:e,simple:!0,value:void 0!==n?n:"1"})}}}(this)}).call(window)}]);